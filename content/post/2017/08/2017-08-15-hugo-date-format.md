+++
title = "Hugoのarchetypesに設定するdateの値が変更になった模様"
slug = "hugo-date-format"
description = ""
date = "2017-08-15T11:08:27+09:00"
categories = ["Hugo"]
tags = ["Hugo", "archetypes"]
thumbnail = ""
author = "nabeen"
+++

ちょっと前から気づいてはいたんだけど、`hugo new`したときにデフォルトで入るはずの`date`が入らなくなっていました。つらい。

ここ最近で書いた記事は、なんと驚くべきことに、前の記事の`date`を手動で持ってきて書き換えていたという。THE 手運用・ω・ 手運用バンザイ！

さすがにずっとこのままってのもなーと思っていた矢先、解決方法が判明しました。誰かのお役に立てれば幸いです。


## `archetypes/default.md`の中身
僕は以下のTOML形式のファイルを設定していました。まぁ公式にあるようなファイルで特段目立った部分はありません。Authorだけはもう固定値で入れちゃってます。僕しか書かないので。

```
+++
title = ""
slug = ""
description = ""
date = ""
categories = []
tags = []
thumbnail = ""
draft = true
author = "nabeen"
+++
```

## 変更前
で、今回の対象は`date`。これまでは空欄にしてても、むしろ書かなくてもよしなにやってくれていた気がします。それが今や空欄は空欄のまま出力されてしまうように。

```
date = ""
```

## 変更後
これからは変数定義を入れてあげないといけなくなった模様。`{{ .Date }}`自体はHugo内で普通に使われている変数なんですが、archetypesでもコイツを記載してあげる必要があるようです。公式ドキュメントみたけどそんな記載見つけられなかったぞコノヤロー！

```
date = "{{ .Date }}"
```

ともあれこれで無事に、記事作成時にこんな感じでよしなに入れてくれるようになります。

```
date = "2017-08-15T10:24:01+09:00"
```

現場からは以上です。
